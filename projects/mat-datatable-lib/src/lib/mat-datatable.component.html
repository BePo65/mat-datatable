<table mat-table class="full-width-table" matSort (matSortChange)="onSortChanged($event)">
  <ng-container *ngFor="let column of columnDefinitions" [matColumnDef]="column.columnId">
    <th mat-header-cell *matHeaderCellDef mat-sort-header [disabled]="!column.isSortable" [ngStyle]="columnFormat(column)">
      {{column.header}}
    </th>
    <td mat-cell *matCellDef="let row" [ngStyle]="columnFormat(column)" [attr.title]="column?.tooltip?.(row)">
      <span *ngIf="!column?.showAsMailtoLink; else mailToLink">{{column.cell(row)}}</span>
      <ng-template #mailToLink><a href="mailto:${column.cell(row)}">{{column.cell(row)}}</a></ng-template>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
<mat-paginator #paginator
    [length]="dataSource?.data?.length || 0"
    [pageIndex]="0"
    [pageSize]="10"
    [pageSizeOptions]="[5, 10, 20]"
    [showFirstLastButtons]="true"
    class="mat-paginator-sticky">
</mat-paginator>
