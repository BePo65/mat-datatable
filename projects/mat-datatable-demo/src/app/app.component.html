<h1 class="page-title">{{title}}</h1>
<div class="content-table mat-elevation-z8">
  <mat-datatable #datatable
    [columnDefinitions]="columnDefinitions"
    [displayedColumns]="displayedColumns"
    [rowSelectionMode]="currentSelectionMode"
    [datastoreGetter]="getData"
    (rowClick)="onRowClick($event)"
    (rowSelectionChange)="onRowSelectionChange($event)"
    (sortChange)="onSortChanged($event)"
    [withFooter]="withFooter"
  >loading...</mat-datatable>
</div>
<div class="current-sort">
  <span class="current-sort-label">Current sort:</span>
  <span>
    <mat-chip-listbox aria-label="Current sorting definition">
      <mat-chip *ngFor="let sort of currentSorts$ | async" (removed)="removeSort(sort.columnId)">
        {{headerFromColumnId(sort.columnId)}}, {{sort.direction}}
        <button matChipRemove [attr.aria-label]="'remove ' + headerFromColumnId(sort.columnId)">
          <mat-icon>cancel</mat-icon>
        </button>
      </mat-chip>
    </mat-chip-listbox>
  </span>
</div>
<div class="sort-button-container">
  <button mat-raised-button class="sort-button" (click)="onSortId()">Sort by ID</button>
  <button mat-raised-button class="sort-button" (click)="onSortLastNameFirstNameBirthday()">Sort by lastName, firstName, birthday</button>
  <button mat-raised-button class="sort-button" (click)="onSortLastNameBirthdayAsc()">Sort by lastName, birthday</button>
  <button mat-raised-button class="sort-button" (click)="onSortLastNameBirthdayDesc()">Sort by lastName, birthday desc</button>
  <button mat-raised-button class="sort-button" (click)="onSortBirthdayAsc()">Sort by birthday</button>
  <button mat-raised-button class="sort-button" (click)="onSortBirthdayDesc()">Sort by birthday desc</button>
  <button mat-raised-button class="sort-button" (click)="onClearSort()">Remove all sorts</button>
</div>
<div class="activated-row">
  <span class="activation-button-container">
    <button  mat-raised-button class="activation-button" (click)="onClearActivated()">Clear activated row</button>
    <button  mat-raised-button class="activation-button" (click)="onSetActivated()">Set activated row</button>
  </span>
  <span class="activated-row-label">Active row:</span><span>{{activatedRowAsString}}</span>
</div>
<div class="selected-rows">
  <span class="selection-button-container">
    <mat-label class="mode-selection-label">Selection mode</mat-label>
    <mat-form-field appearance="fill" class="mode-selection">
      <mat-select [(value)]="currentSelectionMode">
        <mat-option value="none">none</mat-option>
        <mat-option value="single">single</mat-option>
        <mat-option value="multi">multi</mat-option>
      </mat-select>
    </mat-form-field>
    <button  mat-raised-button class="selection-button" (click)="onClearSelection()">Clear selection</button>
    <button  mat-raised-button class="selection-button" (click)="onSetSelection()">Set predefined selection</button>
  </span>
  <span class="selected-rows-label">Selected rows:</span><span>{{selectedRowsAsString}}</span>
</div>
<div class="rows-count">
  <div class="rows-count-container">
    <div class="count-label">Number of rows:</div>
    <div>{{numberOfRows}}</div>
    <div>&nbsp;</div>
    <div class="count-label">First visible row:</div>
    <div>{{firstVisibleRow}}</div>
    <div class="count-label">Number of filtered rows:</div>
    <div>{{numberOfFilteredRows}}</div>
  </div>
</div>
